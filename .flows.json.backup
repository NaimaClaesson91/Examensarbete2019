[{"id":"df21e0b5.ac35e","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"cdbc66a6.c0faa8","type":"influxdb","z":"","hostname":"127.0.0.1","port":"8086","protocol":"http","database":"testdb","name":"","usetls":false,"tls":""},{"id":"f97ca0c4.659e8","type":"mqtt-broker","z":"","broker":"localhost","port":"1883","clientid":"Pi2_NR-Live","usetls":false,"verifyservercert":true,"compatmode":false,"keepalive":"15","cleansession":true,"birthTopic":"DEVICES/PI2NR-LIVE","birthQos":"1","birthRetain":"false","birthPayload":"Online","willTopic":"DEVICES/PI2NR-LIVE","willQos":"1","willRetain":"false","willPayload":"Offline"},{"id":"a23fffc8.94f1a8","type":"influxdb","z":"df21e0b5.ac35e","hostname":"127.0.0.1","port":"8086","database":"aTimeSeries","name":"aTimeSeries"},{"id":"841d224b.d2a12","type":"influxdb","z":"df21e0b5.ac35e","hostname":"127.0.0.1","port":"8086","database":"aTimeSeries","name":"aTimeSeries"},{"id":"77731f87.9f022","type":"influxdb","z":"df21e0b5.ac35e","hostname":"127.0.0.1","port":"8086","database":"testdb","name":"influx","usetls":false,"tls":""},{"id":"bff66c14.5f8888","type":"influxdb","z":"df21e0b5.ac35e","hostname":"127.0.0.1","port":"8086","database":"testdb","name":"test","usetls":false,"tls":""},{"id":"184d5c65.77d494","type":"ttn app","z":"","appId":"examensarbete2019","accessKey":"ttn-account-v2.ul91oPKYaXMcflJpz735QfdD4FTzhwAHOMupo3mV5ZA","discovery":"discovery.thethingsnetwork.org:1900"},{"id":"f6ea8353.3fffa8","type":"ttn uplink","z":"df21e0b5.ac35e","name":"Examensarbete2019","app":"184d5c65.77d494","dev_id":"","field":"","x":110,"y":180,"wires":[["3eddf358.e80dd4"]]},{"id":"3eddf358.e80dd4","type":"change","z":"df21e0b5.ac35e","name":"Name change","rules":[{"t":"move","p":"payload.TempC","pt":"msg","to":"payload.temperature","tot":"msg"},{"t":"move","p":"payload.HumRH","pt":"msg","to":"payload.humidity","tot":"msg"},{"t":"move","p":"payload.BatV","pt":"msg","to":"payload.battery","tot":"msg"},{"t":"move","p":"dev_id","pt":"msg","to":"payload.dev_id","tot":"msg"},{"t":"move","p":"metadata.gateways[0].rssi","pt":"msg","to":"payload.rssi","tot":"msg"},{"t":"move","p":"metadata.gateways[0].snr","pt":"msg","to":"payload.snr","tot":"msg"},{"t":"move","p":"metadata.data_rate","pt":"msg","to":"payload.data_rate","tot":"msg"},{"t":"move","p":"metadata.frequency","pt":"msg","to":"payload.frequency","tot":"msg"},{"t":"move","p":"hardware_serial","pt":"msg","to":"payload.hardware_serial","tot":"msg"},{"t":"move","p":"metadata.airtime","pt":"msg","to":"airtime","tot":"msg"},{"t":"move","p":"metadata.gateways[0].gtw_id","pt":"msg","to":"payload.gtw_id","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":340,"y":220,"wires":[["36a11b58.537804","c47e0078.9a6c28","5ef1bae1.982794"]]},{"id":"e96f729d.eebc08","type":"influxdb out","z":"df21e0b5.ac35e","influxdb":"cdbc66a6.c0faa8","name":"Influxdb","measurement":"sensor_log","precision":"","retentionPolicy":"","x":640,"y":440,"wires":[]},{"id":"c47e0078.9a6c28","type":"debug","z":"df21e0b5.ac35e","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":570,"y":160,"wires":[]},{"id":"36a11b58.537804","type":"debug","z":"df21e0b5.ac35e","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":590,"y":200,"wires":[]},{"id":"5ef1bae1.982794","type":"function","z":"df21e0b5.ac35e","name":"temperature","func":"msg.payload.temperature = parseFloat(msg.payload.temperature.toFixed(2))\nreturn msg;","outputs":1,"noerr":0,"x":380,"y":300,"wires":[["863c766e.6c9178"]]},{"id":"3267413.4675ebe","type":"debug","z":"df21e0b5.ac35e","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":650,"y":400,"wires":[]},{"id":"863c766e.6c9178","type":"function","z":"df21e0b5.ac35e","name":"humidity","func":"msg.payload.humidity = parseFloat(msg.payload.humidity.toFixed(2))\nreturn msg;","outputs":1,"noerr":0,"x":380,"y":340,"wires":[["a128535a.3c8cd8"]]},{"id":"a128535a.3c8cd8","type":"function","z":"df21e0b5.ac35e","name":"battery","func":"msg.payload.battery = parseFloat(msg.payload.battery.toFixed(2))\nreturn msg;","outputs":1,"noerr":0,"x":400,"y":380,"wires":[["3267413.4675ebe","e96f729d.eebc08"]]}]